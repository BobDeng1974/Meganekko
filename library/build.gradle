apply plugin: 'com.android.library'
apply plugin: 'com.novoda.bintray-release'

def ovrSdkMobile = "$rootDir/ovr_sdk_mobile"

dependencies {
    /*
     * Dependencies
     */
    implementation 'com.android.support:support-annotations:27.0.2'
    api 'org.joml:joml:1.9.2'

    // AudioEngine dependency is declared in app if neccessary
    compileOnly 'com.google.vr:sdk-audio:1.40.0'
}

android {
    compileSdkVersion 26
    defaultConfig {
        externalNativeBuild {
            ndkBuild {
                abiFilters 'armeabi-v7a'
                arguments "NDK_PROJECT_PATH=$projectDir/src/main"
            }
        }
    }
    sourceSets {
        main {
            java.srcDirs = [
                    'src/main/java',
                    "$ovrSdkMobile/VrAppFramework/java"
            ]
            jniLibs.srcDir 'src/main/libs'
            res.srcDirs = [
                    'src/main/res',
                    "$ovrSdkMobile/VrAppFramework/res"
            ]
        }
    }
    externalNativeBuild {
        ndkBuild {
            path 'src/main/jni/Android.mk'
        }
    }
}

/*
 * Upload to bintray
 */

publish {
    userOrg = 'niusounds'
    groupId = 'org.meganekkovr'
    artifactId = 'meganekko'
    publishVersion = '3.2.1'
    desc = 'Gear VR Application Framework.'
    website = 'http://www.meganekkovr.org/'
}
